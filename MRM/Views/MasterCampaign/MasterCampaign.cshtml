@model MRM.Model.MasterCampaignVM

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "MasterCampaign";
    var val = Json.Encode(Model);
}


<style>
    #mydiv {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1000;
        background-color: grey;
        opacity: .8;
    }


    .loader {
        position: absolute;
        left: 50%;
        top: 50%;
        margin-left: -32px; /* -1 * image width / 2 */
        margin-top: -32px; /* -1 * image height / 2 */
        display: block;
        border-radius: 50%;
        animation: spin 2s linear infinite;
        border: 16px solid #f3f3f3; /* Light grey */
        border-top: 16px solid #3498db; /* Blue */
        width: 120px;
        height: 120px;
    }

    @@keyframes spin {
        0% {
            transform: rotate(0deg);
        }

        100% {
            transform: rotate(360deg);
        }
    }
</style>


<div>
    <form id="myform">
     
        @*<div id="mydiv" data-ng-show="loading">
            <div class="loader"></div>
        </div>*@
        <section class="content-header">
          
        </section>

        <section class="content">
            <!-- SELECT2 EXAMPLE -->
            <div class="box box-default">
                <div class="box-header with-border">
                   
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                    <fieldset>
                        <legend>Master Campaign</legend>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">

                                    <label>Business Group</label>
                                    @*<select class="form-control">
                            <option value="1" selected="selected">--Select--</option>
                        </select>*@
                                    @Html.DropDownListFor(x => x.BusinessGroupsItems,new SelectList(Model.BusinessGroupsItems, "ID", "Name"), new { @class = "form-control" })
                                </div>

                                <div class="form-group">
                                    <label>Business Line</label>

                                    @Html.DropDownListFor(m => m.BusinessLineItems, new SelectList(Model.BusinessLineItems, "ID", "Name"), new { @class = "form-control" })

                                </div>

                                <div class="form-group">
                                    <label>Segment</label>

                                    @Html.DropDownListFor(m => m.SegmentItems, new SelectList(Model.SegmentItems, "ID", "Name"), new { @class = "form-control" })
                                </div>

                                <div class="form-group">
                                    <label>Industry</label>

                                    @Html.DropDownListFor(m => m.IndustryItems, new SelectList(Model.IndustryItems, "ID", "Name"), new { @class = "form-control" })

                                </div>
                                <div class="form-group">
                                    <label>Theme</label>

                                    @Html.DropDownListFor(m => m.ThemeItems, new SelectList(Model.ThemeItems, "ID", "Name"), new { @class = "form-control" })

                                </div>
                                <div class="form-group">
                                    <label>Geography</label>

                                    @Html.DropDownListFor(m => m.GeographyItems, new SelectList(Model.GeographyItems, "ID", "Name"), new { @class = "form-control" })
                                </div>


                            </div>


                            <div class="col-md-6">

                                <div class="form-group">
                                    <label>Start Date</label>
                                    @Html.TextBoxFor(m => m.StartDate, new { @class = "form-control" })

                                </div>
                                <div class="form-group">
                                    <label>End Date</label>
                                    @Html.TextBoxFor(m => m.EndDate, new { @class = "form-control" })

                                </div>
                                <div class="form-group">
                                    <label>Status</label>
                                    @Html.TextBoxFor(m => m.Status, new { @class = "form-control" })

                                </div>


                                <div class="form-group">
                                    <label>Master Campaign*</label>
                                    @Html.TextBoxFor(m => m.MasterCampaingName, new { @class = "form-control" })

                                </div>
                               
                                <!-- /.form-group -->
                                <div class="form-group">
                                    <label>Company Description</label>
                                    @Html.TextBoxFor(m => m.CompanyDescription, new { @class = "form-control" })
                                </div>

                            </div>


                            <!--Upper code /.col -->
                        </div>
                        <!-- /.row -->

                    </fieldset>
                </div>
                <!-- /.box-body -->
            </div>

            <div class="row">
                <div class="col-md-6">
                </div>
                <div class="col-md-6">
                    <div class="col-md-3">
                        <button id="btnsubmit" class="btn btn-block btn-primary btn-lg">Submit</button>
                    </div>
                    <div class="col-md-3">
                        <input type="button" class="btn btn-block btn-primary btn-lg" value="Back" onclick="location.href='@Url.Action("Index", "MasterCampaign")'" />
                    </div>
                </div>
            </div>
</section>
    </form>
</div>

<script src="~/Scripts/jquery-1.10.2.intellisense.js"></script>
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<script src="~/Content/plugins/datepicker/bootstrap-datepicker.js"></script>


<script>

$(document).ready(function () {
    $("#btnsubmit").click(function (e) {
       
       
        var Model =
       {

           "BusinessGroupsItems": $('#BusinessGroupsItems :selected').val(),
           "BusinessLineItems": $('#BusinessLineItems :selected').val()
       };

        $.ajax({
        type: 'get',
        dataType: 'json',
        url: 'http://localhost:53263/MasterCampaign/Save',
        data: JSON.stringify(Model),
        success: function (json) {
        if (json) {
            alert('Saved!');
        } else {
            alert('failed');
        }
    },
});
    });
});

    @*@(Url.Action("SaveMaster", "MasterCampaign"))*@
</script>









<style>

    fieldset {
    border: 1px solid #DDD;
    padding: 0 1.4em 1.4em 1.4em;
    margin: 25px 0 1.5em 0;
}

legend {
    font-size: 1.2em;
    font-weight: bold;
}
</style>